{"ast":null,"code":"var _jsxFileName = \"D:\\\\Sturdy\\\\web_and_aplication\\\\xdpmWeb\\\\web-clothing\\\\src\\\\components\\\\ImageUploader.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst ImageUploader = () => {\n  _s();\n  const [selectedFile, setSelectedFile] = useState(null);\n  const [description, setDescription] = useState('');\n  const [preview, setPreview] = useState(null);\n\n  // Bắt sự kiện chọn file\n  const handleFileChange = e => {\n    const file = e.target.files[0];\n    setSelectedFile(file);\n    setPreview(URL.createObjectURL(file)); // hiển thị preview\n  };\n\n  // Gửi ảnh lên server\n  const handleUpload = async () => {\n    if (!selectedFile) {\n      alert('Bạn chưa chọn ảnh!');\n      return;\n    }\n    const formData = new FormData();\n    formData.append('image', selectedFile);\n    formData.append('description', description);\n    try {\n      const res = await fetch('http://localhost:3000/api/upload', {\n        method: 'POST',\n        body: formData\n      });\n      const data = await res.json();\n      alert('Upload thành công!');\n      console.log('Kết quả:', data);\n    } catch (err) {\n      console.error(err);\n      alert('Lỗi khi upload ảnh!');\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      padding: 20,\n      maxWidth: 400\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Upload \\u1EA2nh\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"file\",\n      onChange: handleFileChange\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 7\n    }, this), preview && /*#__PURE__*/_jsxDEV(\"img\", {\n      src: preview,\n      alt: \"Preview\",\n      width: 200,\n      style: {\n        marginTop: 10\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 19\n    }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n      placeholder: \"M\\xF4 t\\u1EA3 \\u1EA3nh...\",\n      value: description,\n      onChange: e => setDescription(e.target.value),\n      style: {\n        display: 'block',\n        marginTop: 10,\n        width: '100%'\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: handleUpload,\n      style: {\n        marginTop: 10\n      },\n      children: \"Upload\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 42,\n    columnNumber: 5\n  }, this);\n};\n_s(ImageUploader, \"cwbMt6Odi4zuDPX+3WbALjkVACE=\");\n_c = ImageUploader;\nexport default ImageUploader;\nvar _c;\n$RefreshReg$(_c, \"ImageUploader\");","map":{"version":3,"names":["React","useState","jsxDEV","_jsxDEV","ImageUploader","_s","selectedFile","setSelectedFile","description","setDescription","preview","setPreview","handleFileChange","e","file","target","files","URL","createObjectURL","handleUpload","alert","formData","FormData","append","res","fetch","method","body","data","json","console","log","err","error","style","padding","maxWidth","children","fileName","_jsxFileName","lineNumber","columnNumber","type","onChange","src","alt","width","marginTop","placeholder","value","display","onClick","_c","$RefreshReg$"],"sources":["D:/Sturdy/web_and_aplication/xdpmWeb/web-clothing/src/components/ImageUploader.jsx"],"sourcesContent":["import React, { useState } from 'react';\r\n\r\nconst ImageUploader = () => {\r\n  const [selectedFile, setSelectedFile] = useState(null);\r\n  const [description, setDescription] = useState('');\r\n  const [preview, setPreview] = useState(null);\r\n\r\n  // Bắt sự kiện chọn file\r\n  const handleFileChange = (e) => {\r\n    const file = e.target.files[0];\r\n    setSelectedFile(file);\r\n    setPreview(URL.createObjectURL(file)); // hiển thị preview\r\n  };\r\n\r\n  // Gửi ảnh lên server\r\n  const handleUpload = async () => {\r\n    if (!selectedFile) {\r\n      alert('Bạn chưa chọn ảnh!');\r\n      return;\r\n    }\r\n\r\n    const formData = new FormData();\r\n    formData.append('image', selectedFile);\r\n    formData.append('description', description);\r\n\r\n    try {\r\n      const res = await fetch('http://localhost:3000/api/upload', {\r\n        method: 'POST',\r\n        body: formData,\r\n      });\r\n\r\n      const data = await res.json();\r\n      alert('Upload thành công!');\r\n      console.log('Kết quả:', data);\r\n    } catch (err) {\r\n      console.error(err);\r\n      alert('Lỗi khi upload ảnh!');\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div style={{ padding: 20, maxWidth: 400 }}>\r\n      <h2>Upload Ảnh</h2>\r\n\r\n      <input type=\"file\" onChange={handleFileChange} />\r\n      {preview && <img src={preview} alt=\"Preview\" width={200} style={{ marginTop: 10 }} />}\r\n\r\n      <textarea\r\n        placeholder=\"Mô tả ảnh...\"\r\n        value={description}\r\n        onChange={(e) => setDescription(e.target.value)}\r\n        style={{ display: 'block', marginTop: 10, width: '100%' }}\r\n      />\r\n\r\n      <button onClick={handleUpload} style={{ marginTop: 10 }}>\r\n        Upload\r\n      </button>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ImageUploader;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}